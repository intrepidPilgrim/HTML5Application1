<?phpinclude_once("config.php");// Prepare form variables for database$columns="";$values="";$colVal="";foreach($_POST as $column => $value){    ${$column} = $value;    if(($column != "action")&&($column != "prev_value")){	$columns=$columns.",$column";	$values=$values.",'".$mysqli->real_escape_string($value)."'";	$colVal = $colVal.$column."='".$value."',";    }}$trimColumns=trim($columns, ",");$trimValues=trim($values, ",");	$colVal = trim($colVal, ",");	                //query id_billing from billing, limit 50                if($_POST["action"]=="id_billing_query"){                    $mysqli->query("BEGIN");                    $query_id_billing = $mysqli->query("SELECT id FROM `billing` LIMIT 100");                    $query_customers = $mysqli->query("SELECT DISTINCT `customer` FROM billing LIMIT 100");                    $mysqli->query("COMMIT");                                        $query_output[0] = array();                    $query_output[1] = array();                                        while($row_id_billing = mysqli_fetch_assoc($query_id_billing)){                        array_push($query_output[0], $row_id_billing["id"]);                    }                    while($row_customers = mysqli_fetch_assoc($query_customers)){                        array_push($query_output[1], $row_customers["customer"]);                    }                                        echo(json_encode($query_output));                }elseif($_POST["action"]=="id_billing_record_query"){                    $query_id_billing = $mysqli->query("SELECT * FROM `billing` WHERE id=" . $_POST["id"]);                    //$grid_data_query = $mysqli->query("SELECT * FROM `additional` WHERE `id_billing` = $id");                    $query_output[0] = array();                    $query_output[1] = array();                    $query_output[0] = mysqli_fetch_assoc($query_id_billing);                    //while($row_grid_data_query = mysqli_fetch_assoc($grid_data_query)){                        //array_push($query_output[1],$row_grid_data_query);                    //};                    echo(json_encode($query_output));                                }elseif($_POST["action"]=="find_last_record"){                    $query_id_billing = $mysqli->query("SELECT id FROM `billing` ORDER BY id DESC LIMIT 1");                    $row_id_billing = mysqli_fetch_assoc($query_id_billing);                    echo(json_encode($row_id_billing));                }elseif($_POST["action"]=="new_record"){                                 }elseif($_POST["action"]=="latest_customer_record"){                    $query_id_billing = $mysqli->query("SELECT * FROM `billing` WHERE customer = '". $_POST["customer"] ."'ORDER BY id DESC LIMIT 1");                    $row_id_billing = mysqli_fetch_assoc($query_id_billing);                    echo(json_encode($row_id_billing));                }elseif($_POST["action"]=="update_record"){                       $idBillingVar = $_POST['id'];                   $idColumnVar = str_replace("id","",$trimColumns);                   $idColumnVar = trim($idColumnVar, ",");                   $idValuesVar = str_replace("'$idBillingVar'","",$trimValues);                   $idValuesVar = trim($idValuesVar, ",");                   $query_id_billing = $mysqli->query("UPDATE billing SET $idColumnVar =$idValuesVar WHERE id = " . $idBillingVar);                   echo(json_encode($idBillingVar));                }else{                    echo("Invalid Request");                }                ?>